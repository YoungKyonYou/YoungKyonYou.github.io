I"r
<p><br /></p>

<p><br /><br /></p>

<h1 id="9시간-차이-나는-에러-해결하기"><center>9시간 차이 나는 에러 해결하기</center></h1>

<p><br /></p>

<p>스프링부트로 앱을 만들다가 심각한 에러를 하나 발견했다. 현재 내 앱은 사람들이 어떤 건물을 출입하게 되면 시간을 책정해서 mysql에 올려주게 되어 있는데 책정되는 실제 시간이랑 mysql에 올려지는 시간이 9시간 차이가 나게 되는 것이다.</p>

<p><br /></p>

<p>이는 매우 심각한 문제여서 빠른 해결이 필요했다. 일단 인터넷을 검색한 결과 많은 수단을 써봤다.</p>

<p><br /></p>

<ol>
  <li>첫 번째 방법</li>
</ol>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">@@</span><span class="k">global</span><span class="p">.</span><span class="n">time_zone</span><span class="p">,</span> <span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">time_zone</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>위 코드를 입력해서 결과를 먼저 본다.</p>

<p>지금은 +09:00으로 양쪽다 되어 있지만 원래는 이게 설정전에는 <strong>SYSTEM</strong>으로 둘다 나온다.</p>

<p><img src="/images/SpringBoot_Error/post2/2021-04-03-17-08-14.png" alt="" /></p>

<p><br /></p>

<p>위 사진과 같이 바꾸는 코드는 아래와 같다</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">SET</span> <span class="o">@@</span><span class="k">session</span><span class="p">.</span><span class="n">time_zone</span><span class="o">=</span><span class="s1">'+09:00'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<ol>
  <li>두 번째 방법</li>
</ol>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>위 코드를 치게 되면 아래 사진과 같이 나온다.</p>

:ET