I"óJ<p><em>í•´ë‹¹ ë‚´ìš©ì€ ì±… â€˜ì½”ë“œë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸ ì›¹ í”„ë¡œì íŠ¸â€™ì— ë‚˜ì˜¤ëŠ” ë‚´ìš©ì´ë©° ì´ëŠ” ê°œì¸ì ìœ¼ë¡œ ê³µë¶€í•˜ê¸° ìœ„í•´ ê¸°ë¡í•¨ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤</em></p>

<p><br /><br /></p>

<h1 id="ì‹œíë¦¬í‹°ë¥¼-ìœ„í•œ-userdetailsservice"><center>ì‹œíë¦¬í‹°ë¥¼ ìœ„í•œ UserDetailsService</center></h1>

<p><br /></p>

<p>ë‹¤ìŒìœ¼ë¡œ ì§„í–‰í•  ì‘ì—…ì€ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ClubMemberRepositoryë¥¼ ì´ìš©í•´ì„œ íšŒì›ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì„ ì œì‘í•´ì•¼ í•œë‹¤.</p>

<p>ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ ìë°” íŒŒì¼ì„ ìƒì„±í•œë‹¤.</p>

<p><br /></p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part5/Chapter10/10-4/2021-07-26-16-14-17.png" alt="" /></p>

<p><br /></p>

<p><strong>ClubAuthMemberDTO.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">org.young.club.security.dto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.extern.log4j.Log4j2</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.GrantedAuthority</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.User</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>

<span class="nd">@Log4j2</span>
<span class="c1">//User í´ë˜ìŠ¤ëŠ” UserDetailsServiceë¡œë¶€í„° í•µì‹¬ ìœ ì € ì •ë³´ë¥¼ ëª¨ë¸ë§í•œë‹¤.</span>
<span class="c1">//User í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ë¶€ëª¨ í´ë˜ìŠ¤ì¸ User í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ë§Œë“ ë‹¤.</span>
<span class="c1">//ë¶€ëª¨ í´ë˜ìŠ¤ì¸ User í´ë˜ìŠ¤ì— ì‚¬ìš©ì ì •ì˜ ìƒì„±ìê°€ ìˆìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ í˜¸ì¶œí•  í•„ìš”ê°€ ìˆë‹¤.</span>

<span class="c1">//ClubAuthMemberDTOëŠ” DTO ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ì¸ ë™ì‹œì— ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ ì¸ê°€/ì¸ì¦ ì‘ì—…ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</span>
<span class="c1">//passwordëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë³„ë„ì˜ ë©¤ë²„ ë³€ìˆ˜ë¡œ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë‹¤.</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClubAuthMemberDTO</span> <span class="kd">extends</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">email</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">fromSocial</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">ClubAuthMemberDTO</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">,</span> <span class="nc">String</span> <span class="n">password</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">fromSocial</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">GrantedAuthority</span><span class="o">&gt;</span> <span class="n">authorities</span><span class="o">){</span>
        <span class="c1">//User í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•œë‹¤.</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">authorities</span><span class="o">);</span>

        <span class="k">this</span><span class="o">.</span><span class="na">email</span><span class="o">=</span><span class="n">username</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">fromSocial</span><span class="o">=</span><span class="n">fromSocial</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br /></p>

<p>ClubMemberê°€ ClubAuthMemberDTOë¼ëŠ” íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬ëœ ê°€ì¥ í° ì´ìœ ëŠ” ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•µì‹¬ì ì¸ ì—­í• ì„ í•˜ëŠ” UserDetailsServiceë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ ë•Œë¬¸ì´ë‹¤.</p>

<p>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ êµ¬ì¡°ì—ì„œ ì¸ì¦ì„ ë‹´ë‹¹í•˜ëŠ” AuthenticationManagerëŠ” ë‚´ë¶€ì ìœ¼ë¡œ UserDetailsServiceë¥¼ í˜¸ì¶œí•´ì„œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</p>

<p>í˜„ì¬ ì˜ˆì œì™€ ê°™ì´ JPAë¡œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³  ì‹¶ë‹¤ë©´ ì´ ë¶€ë¶„ì„ UserDetailsServiceê°€ ì´ìš©í•˜ëŠ” êµ¬ì¡°ë¡œ ì‘ì„±í•  í•„ìš”ê°€ ìˆë‹¤.</p>

<p>ì¶”ê°€ëœ serviceíŒ¨í‚¤ì§€ì—ëŠ” ì´ë¥¼ ìœ„í•œ ClubUserDetailsService í´ë˜ìŠ¤ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•œë‹¤.</p>

<p><br /></p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part5/Chapter10/10-4/2021-07-26-16-23-19.png" alt="" /></p>

<p><br /></p>

<p><strong>ClubUserDetailsService.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">org.young.club.security.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.extern.log4j.Log4j2</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetails</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetailsService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UsernameNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>

<span class="nd">@Log4j2</span>
<span class="c1">//Serviceì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ì—ì„œ ë¹ˆìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆê²Œ í•œë‹¤.</span>
<span class="c1">//ClubUserDetailsServiceê°€ ë¹ˆ(Bean)ìœ¼ë¡œ ë“±ë¡ë˜ë©´ ì´ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ</span>
<span class="c1">//UserDetailsServiceë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì— ê¸°ì¡´ì— ì„ì‹œë¡œ ì½”ë“œë¡œ ì§ì ‘ ì„¤ì •í•œ</span>
<span class="c1">//configure(AuthenticationManagerBuilder auth) ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ìˆ˜ì •í•œë‹¤.</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClubUserDetailsService</span> <span class="kd">implements</span> <span class="nc">UserDetailsService</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">UserDetails</span> <span class="nf">loadUserByUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UsernameNotFoundException</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"ClubUserDetailsService loadUserByUsername"</span><span class="o">+</span><span class="n">username</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br /></p>

<p>ì´ì œ SecureConfig.java ì—ì„œ ì •ì˜í–ˆë˜ configure ë©”ì„œë“œê°€ í•„ìš”ì—†ìœ¼ë¯€ë¡œ ì§€ìš°ê±°ë‚˜ ì£¼ì„ ì²˜ë¦¬í•œë‹¤.</p>

<p><br /></p>

<p><strong>SecureConfig.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">org.young.club.config</span><span class="o">;</span>

<span class="c1">//ì‹œíë¦¬í‹° ê´€ë ¨ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ WebSecurity ConfigurerAdapterë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.</span>
<span class="c1">//WebSecurityConfigurer Adapter í´ë˜ìŠ¤ëŠ” ì£¼ë¡œ overrideë¥¼ í†µí•´ì„œ ì—¬ëŸ¬ ì„¤ì •ì„ ì¡°ì •í•˜ê²Œ ëœë‹¤.</span>

<span class="kn">import</span> <span class="nn">lombok.extern.log4j.Log4j2</span><span class="o">;</span>
 <span class="o">(...)</span>
<span class="nd">@Configuration</span>
<span class="nd">@Log4j2</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityConfig</span> <span class="kd">extends</span> <span class="nc">WebSecurityConfigurerAdapter</span> <span class="o">{</span>
    <span class="nd">@Bean</span>
    <span class="nc">PasswordEncoder</span> <span class="nf">passwordEncoder</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">BCryptPasswordEncoder</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">http</span><span class="o">.</span><span class="na">authorizeRequests</span><span class="o">().</span><span class="na">antMatchers</span><span class="o">(</span><span class="s">"/sample/all"</span><span class="o">).</span><span class="na">permitAll</span><span class="o">()</span>
                                <span class="c1">//ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•˜ê³  /sample/member'ë¥¼ í˜¸ì¶œí•˜ë©´ Access Denied ëœë‹¤.</span>
                                <span class="o">.</span><span class="na">antMatchers</span><span class="o">(</span><span class="s">"/sample/member"</span><span class="o">).</span><span class="na">hasRole</span><span class="o">(</span><span class="s">"USER"</span><span class="o">);</span>

        <span class="c1">//ì¸ê°€/ì¸ì¦ì— ë¬¸ì œì‹œ ë¡œê·¸ì¸ í™”ë©´ë©´</span>
       <span class="n">http</span><span class="o">.</span><span class="na">formLogin</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<p><br /></p>

<p>ì •ìƒì ì¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ ClubUserDetailsServiceì™€ ClubMemberRepositoryë¥¼ ì—°ë™í•˜ëŠ” ê²ƒì€ ì•„ë˜ì™€ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p><strong>ClubUserDetailsService.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">org.young.club.security.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.extern.log4j.Log4j2</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.authority.SimpleGrantedAuthority</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetails</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetailsService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UsernameNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.young.club.entity.ClubMember</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.young.club.repository.ClubMemberRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.young.club.security.dto.ClubAuthMemberDTO</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="o">;</span>

<span class="nd">@Log4j2</span>
<span class="c1">//Serviceì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ì—ì„œ ë¹ˆìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆê²Œ í•œë‹¤.</span>
<span class="c1">//ClubUserDetailsServiceê°€ ë¹ˆ(Bean)ìœ¼ë¡œ ë“±ë¡ë˜ë©´ ì´ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ</span>
<span class="c1">//UserDetailsServiceë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì— ê¸°ì¡´ì— ì„ì‹œë¡œ ì½”ë“œë¡œ ì§ì ‘ ì„¤ì •í•œ</span>
<span class="c1">//configure(AuthenticationManagerBuilder auth) ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ìˆ˜ì •í•œë‹¤.</span>
<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClubUserDetailsService</span> <span class="kd">implements</span> <span class="nc">UserDetailsService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ClubMemberRepository</span> <span class="n">clubMemberRepository</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">UserDetails</span> <span class="nf">loadUserByUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UsernameNotFoundException</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"ClubUserDetailsService loadUserByUsername"</span><span class="o">+</span><span class="n">username</span><span class="o">);</span>

        <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">ClubMember</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">=</span><span class="n">clubMemberRepository</span><span class="o">.</span><span class="na">findByEmail</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"username:"</span><span class="o">+</span><span class="n">username</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">isPresent</span><span class="o">()==</span><span class="kc">false</span><span class="o">){</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">UsernameNotFoundException</span><span class="o">(</span><span class="s">"Check Email or Social "</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">ClubMember</span> <span class="n">clubMember</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clubMember</span><span class="o">.</span><span class="na">getRoleSet</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"--------------------------"</span><span class="o">);</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">clubMember</span><span class="o">);</span>

        <span class="c1">//ClubMemberë¥¼ UserDetails íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ClubAuthMemberDTO íƒ€ì…ìœ¼ë¡œ ë³€í™˜</span>
        <span class="nc">ClubAuthMemberDTO</span> <span class="n">clubAuthMember</span><span class="o">=</span><span class="k">new</span> <span class="nc">ClubAuthMemberDTO</span><span class="o">(</span>
                <span class="n">clubMember</span><span class="o">.</span><span class="na">getEmail</span><span class="o">(),</span>
                <span class="n">clubMember</span><span class="o">.</span><span class="na">getPassword</span><span class="o">(),</span>
                <span class="n">clubMember</span><span class="o">.</span><span class="na">isFromSocial</span><span class="o">(),</span>
                <span class="c1">//ClubMemberRoleì€ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” SimpleGrantedAuthorityë¡œ ë³€í™˜,</span>
                <span class="c1">//ì´ë•Œ 'ROLE_'ë¼ëŠ” ì ‘ë‘ì–´ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•œë‹¤.</span>
                <span class="c1">//user95@zerock.org ê°™ì€ ê²½ìš° ë¡¤ì´ 3ê°œë‹¤ [USER, MANAGER, ADMIN]</span>
                <span class="c1">//ì´ ê°ê°ì„ [ROLE_ADMIN, ROLE_MANAGER, ROLE_USER]ë¡œ ë³€í™˜í•´ì„œ Setìœ¼ë¡œ ë„£ì–´ì£¼ê³  ê·¸ ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•œë‹¤.</span>
                <span class="n">clubMember</span><span class="o">.</span><span class="na">getRoleSet</span><span class="o">().</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">role</span><span class="o">-&gt;</span><span class="k">new</span> <span class="nc">SimpleGrantedAuthority</span><span class="o">(</span><span class="s">"ROLE_"</span><span class="o">+</span><span class="n">role</span><span class="o">.</span><span class="na">name</span><span class="o">())).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toSet</span><span class="o">()));</span>

        <span class="n">clubAuthMember</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">clubMember</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">clubAuthMember</span><span class="o">.</span><span class="na">getAuthorities</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">clubAuthMember</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br /></p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part5/Chapter10/10-4/2021-07-26-17-04-56.png" alt="" /></p>

<p><br /></p>

<p>ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸í•œ ê²°ê³¼ì´ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ AuthenticationManagerëŠ” ë‚´ë¶€ì ìœ¼ë¡œ UserDetailsServiceë¥¼ í˜¸ì¶œí•´ì„œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
ì¦‰ <strong>loadUserByUsername</strong> ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì‚¬ìš©ì ì •ë³´(<strong>clubAuthMember</strong>)ë¥¼ ë„˜ê²¨ë°›ëŠ”ë‹¤. ê·¸ clubAuthMemberëŠ” DTOí˜•íƒœë¡œ í¬ì¥ë˜ì„œ ë°˜í™˜ë˜ëŠ” ê²ƒì´ë‹¤.</p>
:ET